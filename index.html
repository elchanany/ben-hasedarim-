
<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="בין הסדורים - לוח עבודות זמניות לציבור החרדי"
    />
    <link rel="apple-touch-icon" href="/logo192.png" />
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Tailwind CSS - CDN Version (temporary) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts - Local Fallback -->
    <style>
      /* Local font fallback for Assistant font */
      @font-face {
        font-family: 'Assistant';
        src: local('Assistant'), local('Arial'), local('sans-serif');
        font-weight: 200 800;
        font-display: swap;
      }
    </style>
    
    <title>בין הסדורים - אתר העבודות הזמניות של הציבור החרדי</title>
    
    <!-- Tailwind Configuration -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              'assistant': ['Assistant', 'Arial', 'sans-serif']
            },
            colors: {
              'royal-blue': 'var(--color-royal-blue, #0A2463)', 
              'deep-pink': 'var(--color-deep-pink, #D81E5B)',  
              'light-blue': 'var(--color-light-blue, #A9D6E5)', 
              'light-pink': 'var(--color-light-pink, #FFCAD4)', 
              'neutral-gray': 'var(--color-neutral-gray, #F8F9FA)', 
              'dark-text': 'var(--color-dark-text, #212529)',    
              'medium-text': 'var(--color-medium-text, #495057)',  
              'yellow-50': 'var(--color-yellow-50, #FFFBEB)', 
              'yellow-100': 'var(--color-yellow-100, #FEF3C7)',
              'yellow-300': 'var(--color-yellow-300, #FDE68A)',
              'yellow-400': 'var(--color-yellow-400, #FACC15)',
              'focus-ring-color': 'var(--focus-ring-color-var)', 
              'hc-bg': 'var(--hc-bg-color-var, black)',
              'hc-text': 'var(--hc-text-color-var, yellow)',
              'hc-link': 'var(--hc-link-color-var, cyan)',
              'hc-link-hover': 'var(--hc-link-hover-color-var, magenta)',
              'hc-border': 'var(--hc-border-color-var, yellow)',
              'hc-button-bg': 'var(--hc-button-bg-color-var, yellow)',
              'hc-button-text': 'var(--hc-button-text-color-var, black)',
            },
            opacity: {
              '20': '0.2',
              '30': '0.3',
              '40': '0.4',
              '50': '0.5',
              '60': '0.6',
              '70': '0.7',
              '80': '0.8',
            },
            animation: {
              'fade-in-down': 'fade-in-down 0.5s ease-out forwards',
              'fade-in-up': 'fade-in-up 0.5s ease-out forwards',
              'slide-in-right': 'slide-in-right 0.6s ease-out forwards',
              'slide-in-left': 'slide-in-left 0.6s ease-out forwards',
              'modal-appear': 'modal-appear 0.3s ease-out forwards'
            },
            keyframes: {
              'fade-in-down': {
                'from': { opacity: '0', transform: 'translateY(-20px)' },
                'to': { opacity: '1', transform: 'translateY(0)' }
              },
              'fade-in-up': {
                'from': { opacity: '0', transform: 'translateY(20px)' },
                'to': { opacity: '1', transform: 'translateY(0)' }
              },
              'slide-in-right': {
                'from': { opacity: '0', transform: 'translateX(-50px)' },
                'to': { opacity: '1', transform: 'translateX(0)' }
              },
              'slide-in-left': {
                'from': { opacity: '0', transform: 'translateX(50px)' },
                'to': { opacity: '1', transform: 'translateX(0)' }
              },
              'modal-appear': {
                 'from': { opacity: '0', transform: 'scale(0.95)'},
                 'to': {
                    opacity: '1',
                    transform: 'scale(1)'
                  }
              }
            }
          }
        }
      }
    </script>
    
    <!-- Local CSS Variables and Styles -->
    <style type="text/css">
      /* Default CSS Variables */
      :root {
        --color-royal-blue: #0A2463;
        --color-deep-pink: #D81E5B;
        --color-light-blue: #A9D6E5;
        --color-light-pink: #FFCAD4;
        --color-neutral-gray: #F8F9FA;
        --color-dark-text: #212529;
        --color-medium-text: #495057;
        --color-yellow-50: #FFFBEB;
        --color-yellow-100: #FEF3C7;
        --color-yellow-300: #FDE68A;
        --color-yellow-400: #FACC15;

        --body-bg-color-var: var(--color-neutral-gray);
        --body-text-color-var: var(--color-dark-text);
        --link-color-var: var(--color-royal-blue);
        --link-hover-color-var: var(--color-deep-pink);
        --border-color-var: #d1d5db;
        --button-bg-color-var: var(--color-royal-blue);
        --button-text-color-var: #ffffff;
        --focus-ring-color-var: var(--color-royal-blue); 
        --font-scale: 1; 
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: 'Assistant', 'Arial', sans-serif;
        background-color: var(--body-bg-color-var);
        color: var(--body-text-color-var);
        font-size: calc(1rem * var(--font-scale)); 
        line-height: calc(1.5 * var(--font-scale));
        margin: 0;
        padding: 0;
      }
      
      html.font-scale-medium { --font-scale: 1.1; }
      html.font-scale-large { --font-scale: 1.2; }
      html.font-scale-xlarge { --font-scale: 1.3; }

      /* High Contrast Theme */
      html.high-contrast {
        --body-bg-color-var: black;
        --body-text-color-var: yellow;
        --link-color-var: cyan;
        --link-hover-color-var: magenta;
        --border-color-var: yellow;
        --button-bg-color-var: yellow;
        --button-text-color-var: black;
        --focus-ring-color-var: #FFFF00;
        
        --hc-bg-color-var: black;
        --hc-text-color-var: yellow;
        --hc-link-color-var: cyan;
        --hc-link-hover-color-var: magenta;
        --hc-border-color-var: yellow;
        --hc-button-bg-color-var: yellow;
        --hc-button-text-color-var: black;

        --color-royal-blue: var(--hc-link-color-var);
        --color-deep-pink: var(--hc-link-hover-color-var);
        --color-light-blue: var(--hc-link-color-var); 
        --color-light-pink: var(--hc-link-hover-color-var); 
        --color-neutral-gray: var(--hc-bg-color-var);
        --color-dark-text: var(--hc-text-color-var);
        --color-medium-text: var(--hc-text-color-var);
        --color-yellow-50: var(--hc-bg-color-var);
        --color-yellow-100: var(--hc-bg-color-var); 
        --color-yellow-300: var(--hc-border-color-var);
        --color-yellow-400: var(--hc-button-bg-color-var);
      }

      html.high-contrast body,
      html.high-contrast .bg-white, html.high-contrast .bg-neutral-gray, html.high-contrast .bg-light-blue\/20, 
      html.high-contrast .bg-light-blue\/30, html.high-contrast .bg-light-blue\/60, html.high-contrast .bg-gray-50,
      html.high-contrast .bg-green-50, html.high-contrast .bg-yellow-50, html.high-contrast .bg-yellow-50\/70, 
      html.high-contrast .bg-red-100, html.high-contrast .bg-blue-100,
      html.high-contrast .bg-gray-200, html.high-contrast .bg-light-pink\/40,
      html.high-contrast .bg-neutral-gray\/30, 
      html.high-contrast .bg-gray-100 
       {
        background-color: var(--hc-bg-color-var) !important;
        color: var(--hc-text-color-var) !important;
      }
      html.high-contrast a, html.high-contrast button.text-royal-blue, html.high-contrast .text-royal-blue, 
      html.high-contrast .text-deep-pink, html.high-contrast .text-blue-700, html.high-contrast .text-green-700, 
      html.high-contrast .text-red-700, html.high-contrast .text-yellow-700, html.high-contrast .text-blue-600,
      html.high-contrast .text-gray-500 
      {
        color: var(--hc-link-color-var) !important;
      }
      html.high-contrast a:hover, html.high-contrast button.text-royal-blue:hover, html.high-contrast .text-royal-blue:hover,
      html.high-contrast .text-deep-pink:hover, html.high-contrast .text-blue-700:hover
      {
        color: var(--hc-link-hover-color-var) !important;
      }
       html.high-contrast .border, html.high-contrast .border-gray-200, html.high-contrast .border-gray-300, 
       html.high-contrast .border-royal-blue\/20, html.high-contrast .border-royal-blue\/30, 
       html.high-contrast .border-pink-200, html.high-contrast .border-yellow-300,
       html.high-contrast .border-green-200, html.high-contrast .border-green-300,
       html.high-contrast .border-royal-blue\/40, html.high-contrast .border-royal-blue\/50,
       html.high-contrast .border-orange-400, html.high-contrast .border-orange-300
       {
        border-color: var(--hc-border-color-var) !important;
      }
      html.high-contrast .text-gray-700, html.high-contrast .text-dark-text, html.high-contrast .text-medium-text, 
      html.high-contrast .text-gray-800, html.high-contrast .text-gray-600,  
      html.high-contrast .text-gray-400, html.high-contrast .text-yellow-900, html.high-contrast .text-yellow-800,
      html.high-contrast .text-gray-300, html.high-contrast .text-indigo-600, html.high-contrast .text-amber-600,
      html.high-contrast .text-teal-600, html.high-contrast .text-emerald-600, html.high-contrast .text-red-600
      {
        color: var(--hc-text-color-var) !important;
      }
      html.high-contrast .placeholder-gray-500::placeholder, html.high-contrast .placeholder-medium-text::placeholder, 
      html.high-contrast input::placeholder, html.high-contrast textarea::placeholder {
        color: var(--hc-link-color-var) !important; opacity: 0.8;
      }
      html.high-contrast input, html.high-contrast textarea, html.high-contrast select {
        background-color: var(--hc-bg-color-var) !important;
        color: var(--hc-text-color-var) !important;
        border-color: var(--hc-border-color-var) !important;
      }
      html.high-contrast .shadow-lg, html.high-contrast .shadow-xl, html.high-contrast .shadow-2xl, 
      html.high-contrast .shadow-md, html.high-contrast .shadow-sm, html.high-contrast .shadow {
        box-shadow: 0 0 0 1px var(--hc-border-color-var) !important;
      }
       html.high-contrast .bg-royal-blue, html.high-contrast .bg-deep-pink, html.high-contrast .bg-red-600, 
       html.high-contrast .bg-blue-700, html.high-contrast .bg-blue-800, html.high-contrast .bg-pink-700,
       html.high-contrast .bg-gray-300, 
       html.high-contrast .bg-orange-100
       {
        background-color: var(--hc-button-bg-color-var) !important;
        color: var(--hc-button-text-color-var) !important;
      }
       html.high-contrast .text-white {
        color: var(--hc-button-text-color-var) !important;
      }
      html.high-contrast .text-light-blue, html.high-contrast .text-light-pink {
        color: var(--hc-link-color-var) !important; 
      }
       html.high-contrast svg.text-royal-blue, html.high-contrast svg.text-deep-pink, 
       html.high-contrast svg.text-red-500, html.high-contrast svg.text-green-500,
       html.high-contrast svg.text-yellow-700, html.high-contrast svg.text-gray-400,
       html.high-contrast svg.text-light-blue, html.high-contrast svg.text-blue-700,
       html.high-contrast .text-emerald-600, 
       html.high-contrast .text-indigo-600, html.high-contrast .text-amber-600,
       html.high-contrast .text-teal-600
       {
         stroke: var(--hc-link-color-var) !important;
         fill: var(--hc-link-color-var) !important; 
       }
       html.high-contrast .peer-checked\\:bg-royal-blue { 
         background-color: var(--hc-button-bg-color-var) !important;
       }

      /* Highlight Links */
      html.highlight-links a:not([role="button"]), 
      html.highlight-links button.text-royal-blue, 
      html.highlight-links button.text-deep-pink,
      html.highlight-links button[class*="text-blue-"], 
      html.highlight-links button[class*="text-pink-"],
      html.highlight-links .hover\\:text-deep-pink 
      {
        background-color: var(--color-yellow-300, #FDE68A) !important;
        color: black !important;
        text-decoration: underline !important;
        font-weight: bold !important;
        outline: 2px solid black !important;
        padding: 0.1em 0.2em; 
        border-radius: 0.125rem;
      }
      html.highlight-links .text-royal-blue:not(button), html.highlight-links .text-deep-pink:not(button) {
         text-decoration: underline !important;
         font-weight: bold !important;
      }
      html.high-contrast.highlight-links a:not([role="button"]),
      html.high-contrast.highlight-links button.text-royal-blue,
      html.high-contrast.highlight-links button.text-deep-pink,
      html.high-contrast.highlight-links button[class*="text-blue-"], 
      html.high-contrast.highlight-links button[class*="text-pink-"],
      html.high-contrast.highlight-links .hover\\:text-deep-pink
      {
        background-color: var(--hc-link-color-var, cyan) !important;
        color: var(--hc-bg-color-var, black) !important;
        outline-color: var(--hc-text-color-var, yellow) !important;
      }
      
      /* Highlight Headings */
      html.highlight-headings h1,
      html.highlight-headings h2,
      html.highlight-headings h3,
      html.highlight-headings h4,
      html.highlight-headings h5,
      html.highlight-headings h6 {
        background-color: var(--color-yellow-100, #FEF3C7) !important;
        border: 1px solid var(--color-yellow-300, #FDE68A) !important;
        padding: 0.2em 0.4em !important;
        border-radius: 0.25rem !important;
        color: var(--color-dark-text, #212529) !important;
      }
      html.high-contrast.highlight-headings h1,
      html.high-contrast.highlight-headings h2,
      html.high-contrast.highlight-headings h3,
      html.high-contrast.highlight-headings h4,
      html.high-contrast.highlight-headings h5,
      html.high-contrast.highlight-headings h6 {
        background-color: var(--hc-button-bg-color-var, yellow) !important;
        border: 1px solid var(--hc-border-color-var, yellow) !important;
        color: var(--hc-button-text-color-var, black) !important;
      }

      /* Grayscale Mode */
      html.grayscale-mode body {
        filter: grayscale(100%);
      }
      html.grayscale-mode .accessibility-widget-button,
      html.grayscale-mode .accessibility-panel {
        filter: none !important;
      }

      /* Accessible Font */
      html.font-accessible body,
      html.font-accessible input,
      html.font-accessible textarea,
      html.font-accessible select,
      html.font-accessible button
       {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol" !important;
      }

      /* Utility Classes */
      .line-clamp-2 {
        overflow: hidden;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
      }
      .line-clamp-3 {
        overflow: hidden;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 3;
      }
      .tap-highlight-transparent {
        -webkit-tap-highlight-color: transparent;
      }
      .visually-hidden {
        position: absolute !important;
        height: 1px;
        width: 1px;
        overflow: hidden;
        clip: rect(1px, 1px, 1px, 1px);
        white-space: nowrap; 
      }
       .visually-hidden:focus, .focus-visible\\:not-visually-hidden:focus,
       a.visually-hidden:focus 
        {
          position: static !important;
          width: auto !important;
          height: auto !important;
          margin: 0.5rem !important; 
          overflow: visible !important;
          clip: auto !important;
          white-space: normal !important;
          padding: 0.75rem 1rem; 
          background-color: var(--focus-ring-color-var, theme('colors.yellow.400'));
          color: var(--hc-button-text-color-var, black); 
          font-weight: bold;
          text-decoration: none;
          z-index: 10000 !important; 
          border-radius: 0.375rem;
          box-shadow: 0 0 0 3px var(--body-bg-color-var, white); 
          outline: 2px solid var(--focus-ring-color-var);
      }
      html.high-contrast .visually-hidden:focus, 
      html.high-contrast .focus-visible\\:not-visually-hidden:focus,
      html.high-contrast a.visually-hidden:focus {
          background-color: var(--hc-button-bg-color-var, yellow) !important;
          color: var(--hc-button-text-color-var, black) !important;
          outline-color: var(--hc-button-bg-color-var, yellow) !important;
          box-shadow: 0 0 0 3px var(--hc-bg-color-var, black) !important;
      }

      *:focus-visible {
          outline: 3px solid var(--focus-ring-color-var) !important;
          outline-offset: 2px !important;
          border-radius: 2px;
      }
      *:focus:not(:focus-visible) {
          outline: none !important;
      }

      @media (prefers-reduced-motion: reduce) {
        html:not(.animations-disabled) *,
        html:not(.animations-disabled) *::before,
        html:not(.animations-disabled) *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
          scroll-behavior: auto !important;
        }
      }
      html.animations-disabled *,
      html.animations-disabled *::before,
      html.animations-disabled *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
          scroll-behavior: auto !important;
      }

      /* Accessibility Widget Styles */
      .accessibility-widget-button {
        position: fixed !important;
        bottom: 20px !important;
        left: 20px !important;
        z-index: 9998 !important; 
        background-color: var(--button-bg-color-var);
        color: var(--button-text-color-var);
        border-radius: 50%;
        width: 50px;
        height: 50px;
        display: flex !important;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        cursor: pointer;
        border: 1px solid var(--body-bg-color-var); 
      }
      html.high-contrast .accessibility-widget-button {
        background-color: var(--hc-button-bg-color-var) !important;
        color: var(--hc-button-text-color-var) !important;
        border-color: var(--hc-border-color-var) !important;
      }
      html.high-contrast .accessibility-widget-button svg {
          stroke: var(--hc-button-text-color-var) !important;
          fill: var(--hc-button-text-color-var) !important;
      }

      .accessibility-panel {
        position: fixed;
        bottom: 80px;
        left: 20px;
        z-index: 9999; 
        background-color: var(--body-bg-color-var);
        color: var(--body-text-color-var);
        border: 2px solid var(--border-color-var);
        border-radius: 8px;
        width: 280px;
        max-width: calc(100vw - 40px);
        box-shadow: 0 6px 20px rgba(0,0,0,0.25);
        padding: 16px;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }
      html.high-contrast .accessibility-panel {
        background-color: var(--hc-bg-color-var) !important;
        color: var(--hc-text-color-var) !important;
        border-color: var(--hc-border-color-var) !important;
      }
      html.high-contrast .accessibility-panel button:not(.active-acc-toggle) { 
        background-color: var(--hc-button-bg-color-var) !important;
        color: var(--hc-button-text-color-var) !important;
        border: 1px solid var(--hc-border-color-var) !important;
      }
      html.high-contrast .accessibility-panel button.active-acc-toggle {
         background-color: var(--hc-link-color-var) !important; 
         color: var(--hc-bg-color-var) !important; 
         border: 1px solid var(--hc-link-hover-color-var) !important;
      }
      .accessibility-panel button {
        padding: 8px 12px;
        border-radius: 6px;
        background-color: #f3f4f6; 
        border: 1px solid var(--border-color-var);
        color: var(--body-text-color-var); 
        text-align: right;
        cursor: pointer;
        transition: background-color 0.2s, color 0.2s, border-color 0.2s;
      }
      html:not(.high-contrast) .accessibility-panel button:hover {
         background-color: var(--color-light-blue);
         border-color: var(--color-royal-blue);
      }
      html:not(.high-contrast) .accessibility-panel button.active-acc-toggle {
        background-color: var(--button-bg-color-var);
        color: var(--button-text-color-var);
        font-weight: bold;
        border-color: var(--button-bg-color-var);
      }
      html.high-contrast .accessibility-panel hr {
          border-color: var(--hc-border-color-var);
      }
    </style>
    
    <!-- Local CSS -->
    <link rel="stylesheet" href="/index.css">
    
    <!-- Local Import Map for Dependencies -->
    <script type="importmap">
    {
      "imports": {
        "react": "/node_modules/react/umd/react.production.min.js",
        "react-dom": "/node_modules/react-dom/umd/react-dom.production.min.js",
        "firebase/app": "/node_modules/firebase/app/dist/index.esm.js",
        "firebase/auth": "/node_modules/firebase/auth/dist/index.esm.js",
        "firebase/firestore": "/node_modules/firebase/firestore/dist/index.esm.js",
        "firebase/storage": "/node_modules/firebase/storage/dist/index.esm.js",

        "path": "/node_modules/path-browserify/index.js",
        "url": "/node_modules/url/url.js",

      }
    }
    </script>
    

  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    
    <!-- Local Scripts -->
    <script type="module" src="/index.tsx"></script>
    
    <!-- Fallback for non-module browsers -->
    <script nomodule>
      // Fallback for older browsers that don't support ES modules
      document.getElementById('root').innerHTML = '<div style="text-align: center; padding: 2rem; font-family: Arial, sans-serif;"><h1>דפדפן לא נתמך</h1><p>אנא השתמש בדפדפן מודרני שתומך ב-ES modules</p></div>';
    </script>
  </body>
</html>